<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">
    <ui:define name="head">
    </ui:define>
    <ui:define name="content">
        <h:form id="form" prependId="false">
            <p:growl id="messages" widgetVar="messages" showDetail="false"
                     closable="true" showIcon="false"/>
            <div class="ui-g-12">
                <div class="card card-w-title">
                    <h1><b>Cadastrar Paciente</b></h1>

                    <p:tabView activeIndex="" id="tab">
                        <p:tab title="Paciente">
                            <h4>Dados Pessoais</h4>
                            <p:panelGrid id="pgNome" columns="2" columnClasses="ui-grid-col-6, ui-grid-col-6"
                                         layout="grid" styleClass="ui-panelgrid-blank form-group"
                                         style="border:0px none; background-color:transparent;">
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itNome"
                                                 style="width: 100%;"
                                                 value="#{pacienteBean.pessoa.nome}"/>
                                    <p:outputLabel for=" itNome" value="Nome"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-selectonemenu">
                                    <p:selectOneMenu id="somSexo" value="#{pacienteBean.sexo.id}"
                                                     style="width:125px" label="Sexo">
                                        <f:selectItem itemLabel="Sexo" itemValue="Sexo"/>
                                        <f:selectItems value="#{pacienteBean.sexos}" var="sexo"
                                                       itemValue="#{sexo.id}" itemLabel="#{sexo.descricao}"/>
                                    </p:selectOneMenu>
                                </h:panelGroup>
                            </p:panelGrid>
                            <p:panelGrid layout="grid" columns="4"
                                         styleClass="ui-panelgrid-blank form-group"
                                         columnClasses="ui-grid-col-2, ui-grid-col-3, ui-grid-col-3, ui-grid-col-3">
                                <h:panelGroup styleClass=" md-inputfield" id="itNasc">
                                    <p:calendar value="#{pacienteBean.pessoa.nascimento}"
                                                required="true"
                                                requiredMessage="Nascimento obrigatório"
                                                mask="true" style="width: 100%;" pattern="dd/MM/yyyy"/>
                                    <p:outputLabel for="itNasc" value="Nascimento"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputMask mask="999.999.999-99" id="itCpf"
                                                 style="width: 100%;"
                                                 value="#{pacienteBean.documentoPessoal.cpf}"/>
                                    <p:outputLabel for="itCpf" value="CPF"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itRG"
                                                 style="width: 100%;"
                                                 value="#{pacienteBean.documentoPessoal.rg}"/>
                                    <p:outputLabel for="itRG" value="RG"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itSus"
                                                 style="width: 100%;"
                                                 value="#{pacienteBean.documentoPessoal.sus}"/>
                                    <p:outputLabel for="itSus" value="SUS"/>
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:tab>

                        <p:tab title="Responsável">
                            <h4>Dados Pessoais</h4>
                            <p:panelGrid id="pgNomeR" columns="2" columnClasses="ui-grid-col-6, ui-grid-col-6"
                                         layout="grid" styleClass="ui-panelgrid-blank form-group"
                                         style="border:0px none; background-color:transparent;">

                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itNomeR"
                                                 style="width: 100%;"
                                                 value="#{pacienteBean.responsavel.nome}"/>
                                    <p:outputLabel for="itNomeR" value="Nome do Responsável"/>
                                </h:panelGroup>

                                <h:panelGroup styleClass="md-selectonemenu">
                                    <p:selectOneMenu id="somSexoR" value="#{pacienteBean.sexoResponsavel.id}"
                                                     style="width:125px" label="Sexo">
                                        <f:selectItem itemLabel="Sexo" itemValue="Sexo"/>
                                        <f:selectItems value="#{pacienteBean.sexos}" var="sexo"
                                                       itemValue="#{sexo.id}" itemLabel="#{sexo.descricao}"/>
                                    </p:selectOneMenu>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:calendar value="#{pacienteBean.responsavel.nascimento}"
                                                required="true"
                                                id="itNascR"
                                                requiredMessage="Nascimento obrigatório"
                                                mask="true" style="width: 100%;" pattern="dd/MM/yyyy"/>
                                    <p:outputLabel for="itNascR" value="Nascimento"/>
                                </h:panelGroup>

                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputMask mask="999.999.999-99" id="itCpfR"
                                                 style="width: 50%;"
                                                 value="#{pacienteBean.documentoPessoalResponsavel.cpf}"/>
                                    <p:outputLabel for="itCpfR" value="CPF do Responsável"/>
                                </h:panelGroup>

                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itRGR"
                                                 style="width: 100%;"
                                                 value="#{pacienteBean.documentoPessoalResponsavel.rg}"/>
                                    <p:outputLabel for="itRGR" value="RG do Responsável"/>
                                </h:panelGroup>
                            </p:panelGrid>
                            <h4>Contato</h4>
                            <p:panelGrid id="pgContatoR" columns="2" columnClasses="ui-grid-col-6, ui-grid-col-6"
                                         layout="grid" styleClass="ui-panelgrid-blank form-group"
                                         style="border:0px none; background-color:transparent;">
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputMask mask="(99) 99999.9999" id="itTelefone"
                                                 style="width: 100%;"/>
                                    <p:outputLabel for="itTelefone" value="Telefone"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itCelular"
                                                 style="width: 100%;"/>
                                    <p:outputLabel for="itCelular" value="Celular"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itEmail"
                                                 style="width: 100%;"/>
                                    <p:outputLabel for="itEmail" value="Email"/>
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:tab>
                        <p:tab title="Endereço">
                            <p:panelGrid id="pgEndeco" columns="2" columnClasses="ui-grid-col-6, ui-grid-col-6"
                                         layout="grid" styleClass="ui-panelgrid-blank form-group"
                                         style="border:0px none; background-color:transparent;">
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itCidade"
                                                 style="width: 100%;"/>
                                    <p:outputLabel for="itCidade" value="Cidade"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itRua"
                                                 style="width: 100%;"/>
                                    <p:outputLabel for="itRua" value="Rua"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itCep"
                                                 style="width: 100%;"/>
                                    <p:outputLabel for="itCep" value="CEP"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itComplemento"
                                                 style="width: 100%;"/>
                                    <p:outputLabel for="itComplemento" value="Complemento"/>
                                </h:panelGroup>
                                <h:panelGroup styleClass="md-inputfield">
                                    <p:inputText id="itNumero"
                                                 style="width: 30%;"/>
                                    <p:outputLabel for="itNumero" value="Nº"/>
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:tab>
                        <p:tab title="Foto">
                            <p:panelGrid id="pgFoto" columns="2" columnClasses="ui-grid-col-6, ui-grid-col-6"
                                         layout="grid" styleClass="ui-panelgrid-blank form-group"
                                         style="border:0px none; background-color:transparent;">
                                <h:panelGroup>
                                    <p:fileUpload value="#{fileUploadView.file}" mode="simple"
                                                  skinSimple="true" label="Selecionar Foto"/>

                                    <br/> <br/>

                                    <p:commandButton value="Enviar" ajax="false" action="#{fileUploadView.upload}"
                                                     disabled="true"/>
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:tab>
                    </p:tabView>
                </div>
                <div class="ui-g" style="margin-top: -13px;">
                    <div class="ui-g-12">
                        <p:toolbar>
                            <f:facet name="right">
                                <span class="ui-separator" style="padding-right: 5px;"/>
                                <p:commandButton value="Cadastrar"
                                                 id="btnCadastrar"
                                                 icon="ui-icon-plus"
                                                 styleClass="green-btn"
                                                 action="#{pacienteBean.savePaciente()}"
                                                 update="@form"
                                                 process="@this tab:itNome tab:itNasc tab:itCpf tab:itRG tab:itSus tab:itNomeR
                                                 tab:itNascR tab:itCpfR tab:itRGR tab:somSexo tab:somSexoR"/>
                                <p:defaultCommand target="btnCadastrar"/>
                                <span class="ui-separator" style="padding-right: 5px;"/>
                            </f:facet>
                        </p:toolbar>
                    </div>
                </div>
            </div>
        </h:form>
    </ui:define>

</ui:composition>